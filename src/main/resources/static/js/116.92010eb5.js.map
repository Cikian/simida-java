{"version":3,"file":"js/116.92010eb5.js","mappings":"weAyCA,IAAIA,GAAQC,EAAAA,EAAAA,IAAI,CACdC,SAAU,KAERC,GAAiBF,EAAAA,EAAAA,IAAI,CAAC,GACtBG,GAAYH,EAAAA,EAAAA,IAAI,CAAEI,IAAK,KAE3B,MAAMC,GAAYL,EAAAA,EAAAA,IAAI,CACpBM,IAAK,GACLC,IAAK,MAGPC,EAAAA,EAAAA,KAAU,KACRC,GAAc,IAGhB,MAAMA,EAAeA,KACnBC,EAAAA,EAAeC,IAAI,qBAAqBC,MAAKC,IACrB,OAAlBA,EAAIC,KAAKC,OACXZ,EAAUa,MAAMZ,IAAMS,EAAIC,KAAKA,KACjC,GACA,EAGEG,EAAOC,IACXb,EAAUW,MAAMT,IAAMW,EACtBR,EAAAA,EAAeS,KAAK,oBAAqBd,EAAUW,OAAOJ,MAAKC,IACvC,OAAlBA,EAAIC,KAAKC,OACXK,EAAAA,EAAAA,IAAU,CACRC,QAASR,EAAIC,KAAKQ,IAClBC,KAAM,WAEV,GACA,EAGEC,EAAUN,IACdR,EAAAA,EAAeS,KAAK,gBAAiB,CAAEM,IAAKP,IAAKN,MAAKC,IAC9B,OAAlBA,EAAIC,KAAKC,MACXK,EAAAA,EAAAA,IAAU,CACRC,QAASR,EAAIC,KAAKQ,IAClBC,KAAM,aAGRH,EAAAA,EAAAA,IAAU,CACRC,QAASR,EAAIC,KAAKQ,IAClBC,KAAM,SAEV,GACA,EAGEG,EAASA,MACbN,EAAAA,EAAAA,IAAU,CACRC,QAAS,UACTE,KAAM,WACN,EAGEI,EAAoBA,KACxBjB,EAAAA,EAAeC,IAAI,2BAA6BZ,EAAMiB,MAAMf,UAAUW,MAAKC,IACnD,OAAlBA,EAAIC,KAAKC,OACXb,EAAec,MAAMY,GAAKf,EAAIC,KAAKA,KAAKe,OACxC3B,EAAec,MAAMf,SAAWY,EAAIC,KAAKA,KAAKgB,SAC9C5B,EAAec,MAAMe,OAASlB,EAAIC,KAAKA,KAAKiB,OAC9C,GACA,E,2vCCpGJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://simida-web/./src/views/chatModel/user/add.vue","webpack://simida-web/./src/views/chatModel/user/add.vue?a1c0"],"sourcesContent":["<template>\n  <div class=\"cent\">\n    <div class=\"cent-top\">\n      <el-input v-model=\"query.username\"/>\n      <el-button @click=\"getUserByUserName\">搜索</el-button>\n    </div>\n\n    <div class=\"userlist-left\">\n      <el-scrollbar height=\"200px\">\n        <div class=\"left-list\" v-if=\"searchUserInfo.id\">\n          <img :src=\"searchUserInfo.avatar\" class=\"left-list-img\">\n          <span class=\"left-list-title\">{{ searchUserInfo.username }}</span>\n          <el-button lass=\"left-list-bu\" @click=\"add({e : searchUserInfo.id})\">添加</el-button>\n        </div>\n      </el-scrollbar>\n    </div>\n\n    <el-divider/>\n\n    <div class=\"userlist-left\">\n      <el-scrollbar height=\"300px\">\n        <div class=\"left-list\" v-for=\"(item,index) in applyList.arr\">\n          <img :src=\"item.avatar\" class=\"left-list-img\">\n          <span class=\"left-list-title\">{{ item.userName }}</span>\n          <div lass=\"left-list-bu\">\n            <el-button @click=\"accept({e : item.userId})\">接受</el-button>\n            <el-button @click=\"refuse\">拒绝</el-button>\n          </div>\n        </div>\n      </el-scrollbar>\n    </div>\n\n  </div>\n</template>\n\n<script lang=\"js\" setup>\n\nimport {onMounted, ref} from \"vue\";\nimport {ElMessage} from \"element-plus\";\nimport requestService from \"@/utils/request\";\n\nlet query = ref({\n  username: \"\"\n});\nlet searchUserInfo = ref({});\nlet applyList = ref({ arr: [] });\n\nconst applyInfo = ref({\n  uid: \"\",\n  tid: \"\",\n});\n\nonMounted(() => {\n  getApplyList();\n});\n\nconst getApplyList = () => {\n  requestService.get('/friend/getApply/').then(res => {\n    if (res.data.code === 2001) {\n      applyList.value.arr = res.data.data;\n    }\n  });\n};\n\nconst add = (e) => {\n  applyInfo.value.tid = e;\n  requestService.post(\"/friend/addFriend\", applyInfo.value).then(res => {\n    if (res.data.code === 3001) {\n      ElMessage({\n        message: res.data.msg,\n        type: 'success',\n      });\n    }\n  });\n};\n\nconst accept = (e) => {\n  requestService.post('/friend/agree', { fid: e }).then(res => {\n    if (res.data.code === 3001) {\n      ElMessage({\n        message: res.data.msg,\n        type: 'success',\n      });\n    } else {\n      ElMessage({\n        message: res.data.msg,\n        type: 'error',\n      });\n    }\n  });\n};\n\nconst refuse = () => {\n  ElMessage({\n    message: '拒绝(未开发)',\n    type: 'warning',\n  });\n};\n\nconst getUserByUserName = () => {\n  requestService.get('/user/getUserByUserName/' + query.value.username).then(res => {\n    if (res.data.code === 2001) {\n      searchUserInfo.value.id = res.data.data.userId;\n      searchUserInfo.value.username = res.data.data.userName;\n      searchUserInfo.value.avatar = res.data.data.avatar;\n    }\n  });\n};\n\n\n\n</script>\n\n<style scoped>\n.cent {\n\n  padding: 20px;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.cent-top {\n  display: flex;\n}\n\n.userlist-left {\n  display: flex;\n  flex-direction: column;\n}\n\n\n.left-list {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows:repeat(1, 1fr);\n  grid-template-areas: 'a b c'\n        'a b c';\n  justify-items: center;\n  align-items: center;\n  margin-top: 10px;\n}\n\n.left-list-img {\n  width: 50px;\n  height: 50px;\n  border-radius: 5px;\n  grid-area: a\n}\n\n.left-list-title {\n  grid-area: b\n}\n\n</style>\n","import script from \"./add.vue?vue&type=script&lang=js&setup=true\"\nexport * from \"./add.vue?vue&type=script&lang=js&setup=true\"\n\nimport \"./add.vue?vue&type=style&index=0&id=579493d8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-579493d8\"]])\n\nexport default __exports__"],"names":["query","ref","username","searchUserInfo","applyList","arr","applyInfo","uid","tid","onMounted","getApplyList","requestService","get","then","res","data","code","value","add","e","post","ElMessage","message","msg","type","accept","fid","refuse","getUserByUserName","id","userId","userName","avatar","__exports__"],"sourceRoot":""}