{"version":3,"file":"js/25.d3b51c1d.js","mappings":"ouBA0IA,MAAMA,GAAWC,EAAAA,EAAAA,KAAI,IAErBC,EAAAA,EAAAA,KAAU,KACR,IAAIC,GAAYC,EAAAA,EAAAA,IAAoB,YAChCD,IACFE,EAAAA,EAAMC,SAAWH,EAAUG,SAC3BD,EAAAA,EAAME,UAAYJ,EAAUI,UAC5BF,EAAAA,EAAMG,WAAaL,EAAUK,WAC7BH,EAAAA,EAAMI,SAAU,GAEdJ,EAAAA,EAAMI,SACRC,IAGFC,EAAAA,EAAOC,KAAK,eAAe,IAG7B,MAAMF,EAAsBA,KAC1BG,EAAAA,EAAeC,IAAI,0BAA0BC,MAAMC,IAC3B,OAAlBA,EAAIC,KAAKC,OACXb,EAAAA,EAAMc,iBAAmBH,EAAIC,KAAKA,KACpC,GACA,EAGEG,EAAYC,IAChBR,EAAAA,EAAeS,KAAK,UAChB,CACED,YAAaA,GAEf,CACEE,QAAS,CAAC,eAAgB,uCAE9BR,MAAMC,IACgB,OAAlBA,EAAIC,KAAKC,OACXR,IACAL,EAAAA,EAAMG,WAAWI,KAAK,CAACY,UAAWH,IAClCR,EAAAA,EAAeC,IAAI,UAAUC,MAAMU,IACR,OAArBA,EAAOR,KAAKC,QACdQ,EAAAA,EAAAA,IAAoB,WAAYD,EAAOR,KAAKA,KAAM,GAClDZ,EAAAA,EAAMC,SAAWmB,EAAOR,KAAKA,KAAKX,SAClCD,EAAAA,EAAME,UAAYkB,EAAOR,KAAKA,KAAKV,UACnCF,EAAAA,EAAMG,WAAaiB,EAAOR,KAAKA,KAAKT,WACpCH,EAAAA,EAAMI,SAAU,EAClB,IAEJ,GACA,EAGEkB,EAAgBC,IACpBjB,EAAAA,EAAOC,KAAK,CAACiB,KAAM,8BAA+BC,MAAO,CAACF,OAAQA,IAAS,E,62GCvL7E,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://simida-web/./src/views/socialFeedModel/home/index.vue","webpack://simida-web/./src/views/socialFeedModel/home/index.vue?e8b8"],"sourcesContent":["<template>\r\n  <a-layout>\r\n\r\n\r\n    <div class=\"banner\" :class=\"{'banner-none' : store.isLogin }\"></div>\r\n\r\n    <a-layout>\r\n      <a-layout-content\r\n          :style=\"{ padding: '0 50px',backgroundColor:'#f5f5f5', margin: '5px auto',minWidth:'1178px',minHeight: '700px', }\">\r\n\r\n        <div class=\"content-box\">\r\n          <div class=\"left\">\r\n\r\n            <router-view></router-view>\r\n          </div>\r\n\r\n          <div class=\"right\">\r\n\r\n            <el-affix :offset=\"105\" class=\"recommended-users\">\r\n\r\n\r\n              <div class=\"glass-container\" v-if=\"!store.isLogin\">\r\n                <div class=\"glass-layer\">\r\n                  登录开启精彩世界！\r\n                </div>\r\n\r\n\r\n                <a-card title=\"推荐用户\">\r\n                  <a-card class=\"rec-list\" type=\"inner\">\r\n                    <a-card-meta :style=\"{marginTop:'3px',marginBottom:'7px'}\">\r\n\r\n                      <template #avatar>\r\n                        <a-avatar src=\"http://q1.qlogo.cn/g?b=qq&nk=1844544314&s=100\" :size=\"50\"/>\r\n                      </template>\r\n                      <template #title>\r\n                        <a-typography-paragraph class=\"rec-para\" :style=\"ellipsis ? {width:'90px'}:{}\"\r\n                                                content=\"Cikian\"/>\r\n                      </template>\r\n                      <p>ssss</p>\r\n                    </a-card-meta>\r\n                    <a-button class=\"follow-btn\" shape=\"round\">关注</a-button>\r\n                  </a-card>\r\n\r\n                  <a-card class=\"rec-list\" type=\"inner\">\r\n                    <a-card-meta :style=\"{marginTop:'3px',marginBottom:'7px'}\">\r\n\r\n                      <template #avatar>\r\n                        <a-avatar src=\"http://q1.qlogo.cn/g?b=qq&nk=1844544314&s=100\" :size=\"50\"/>\r\n                      </template>\r\n                      <template #title>\r\n                        <a-typography-paragraph class=\"rec-para\" :style=\"ellipsis ? {width:'90px'}:{}\"\r\n                                                content=\"Cikian\"/>\r\n                      </template>\r\n                      <p>ssss</p>\r\n                    </a-card-meta>\r\n                    <a-button class=\"follow-btn\" shape=\"round\">关注</a-button>\r\n                  </a-card>\r\n\r\n                  <a-card class=\"rec-list\" type=\"inner\">\r\n                    <a-card-meta :style=\"{marginTop:'3px',marginBottom:'7px'}\">\r\n\r\n                      <template #avatar>\r\n                        <a-avatar src=\"http://q1.qlogo.cn/g?b=qq&nk=2926066494&s=100\" :size=\"50\"/>\r\n                      </template>\r\n                      <template #title>\r\n                        <a-typography-paragraph class=\"rec-para\" :style=\"ellipsis ? {width:'90px'}:{}\"\r\n                                                content=\"Cikian\"/>\r\n                      </template>\r\n                      <p>ssss</p>\r\n                    </a-card-meta>\r\n                    <a-button class=\"follow-btn\" shape=\"round\">关注</a-button>\r\n                  </a-card>\r\n                </a-card>\r\n              </div>\r\n\r\n\r\n              <a-card title=\"推荐用户\" v-else>\r\n                <a-card class=\"rec-list\" v-for=\"(item,index) in store.recommendedUsers\" type=\"inner\">\r\n                  <a-card-meta :style=\"{marginTop:'3px',marginBottom:'7px'}\">\r\n\r\n                    <template #avatar>\r\n                      <a-avatar @click=\"toUserCenter(item.userId)\" :src=\"item.avatar\" :size=\"50\"\r\n                                style=\"cursor: pointer\"/>\r\n                    </template>\r\n                    <template #title>\r\n                      <a-typography-paragraph class=\"rec-para\" :style=\"ellipsis ? {width:'90px'}:{}\"\r\n                                              :ellipsis=\"ellipsis?{tooltip:item.nickName}:false\"\r\n                                              :content=\"item.nickName\"\r\n                                              @click=\"toUserCenter(item.userId)\"\r\n                      />\r\n                    </template>\r\n                  </a-card-meta>\r\n                  <a-button @click=\"onFollow(item.userId)\" class=\"follow-btn\" shape=\"round\">关注</a-button>\r\n                </a-card>\r\n              </a-card>\r\n\r\n              <!--              <a-card title=\"推荐用户\">-->\r\n              <!--                <a-card-meta :style=\"{marginTop:'3px',marginBottom:'7px'}\" v-for=\"(item,index) in store.recommendedUsers\">-->\r\n\r\n              <!--                  <template #avatar>-->\r\n              <!--                    <a-avatar :src=\"item.avatar\" :size=\"50\"/>-->\r\n              <!--                  </template>-->\r\n              <!--                  <template #title>-->\r\n              <!--                    <a-typography-paragraph :style=\"{fontSize:'15px',marginTop:'15px'}\" :ellipsis=\"ellipsis\"-->\r\n              <!--                                            :content=\"item.nickName\"/>-->\r\n              <!--                  </template>-->\r\n              <!--                  <p>ssss</p>-->\r\n              <!--                </a-card-meta>-->\r\n              <!--              </a-card>-->\r\n\r\n\r\n            </el-affix>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </a-layout-content>\r\n    </a-layout>\r\n\r\n    <a-layout-footer class=\"footer\" style=\"text-align: center; width:100%; min-width:1178px;}\">\r\n      ❤️Copyright © 2023 - 2023 <a href=\"https://www.cikian.cn\">Cikian</a> | Powered by <a href=\"https://www.cikian.cn\">Cikian</a>\r\n      &amp; shirley ❤️\r\n    </a-layout-footer>\r\n  </a-layout>\r\n\r\n\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport {getLocalStorageItem, setLocalStorageItem} from \"@/utils/data\";\r\n\r\n\r\nimport {onMounted, ref} from \"vue\";\r\nimport requestService from \"@/utils/request\";\r\nimport router from \"@/router\";\r\nimport {store} from \"@/store\";\r\n\r\nconst ellipsis = ref(true);\r\n\r\nonMounted(() => {\r\n  let userInfos = getLocalStorageItem(\"userInfo\")\r\n  if (userInfos) {\r\n    store.userInfo = userInfos.userInfo\r\n    store.followers = userInfos.followers\r\n    store.followings = userInfos.followings\r\n    store.isLogin = true\r\n  }\r\n  if (store.isLogin) {\r\n    getRecommendedUsers()\r\n  }\r\n\r\n  router.push(\"/recommended\");\r\n})\r\n\r\nconst getRecommendedUsers = () => {\r\n  requestService.get(\"/user/getRecommendUser\").then((res) => {\r\n    if (res.data.code === 2001) {\r\n      store.recommendedUsers = res.data.data\r\n    }\r\n  })\r\n}\r\n\r\nconst onFollow = (followingId) => {\r\n  requestService.post(\"/follow\",\r\n      {\r\n        followingId: followingId\r\n      },\r\n      {\r\n        headers: {\"Content-Type\": \"application/x-www-form-urlencoded\"},\r\n      }\r\n  ).then((res) => {\r\n    if (res.data.code === 3001) {\r\n      getRecommendedUsers()\r\n      store.followings.push({following: followingId})\r\n      requestService.get('/user/').then((result) => {\r\n        if (result.data.code === 2001) {\r\n          setLocalStorageItem(\"userInfo\", result.data.data, 5)\r\n          store.userInfo = result.data.data.userInfo\r\n          store.followers = result.data.data.followers\r\n          store.followings = result.data.data.followings\r\n          store.isLogin = true\r\n        }\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst toUserCenter = (userId) => {\r\n  router.push({path: '/userCenter/otherUserCenter', query: {userId: userId}})\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.banner {\r\n  width: 100%;\r\n  min-width: 1178px;\r\n  height: 300px;\r\n  margin: 0 auto;\r\n  margin-top: 80px;\r\n  background: url(\"https://img-upyun.cikian.cn/develop/simida/bg.webp\") no-repeat center;\r\n  background-size: cover;\r\n  /* 过度动画 */\r\n  transition: all 0.7s ease-in-out;\r\n  -webkit-transition: all 0.7s ease-in-out;\r\n  -moz-transition: all 0.7s ease-in-out;\r\n  -ms-transition: all 0.7s ease-in-out;\r\n  -o-transition: all 0.7s ease-in-out;\r\n}\r\n\r\n.banner-none {\r\n  height: 0;\r\n}\r\n\r\n.content-box {\r\n  height: fit-content;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  box-sizing: content-box;\r\n}\r\n\r\n.left {\r\n\r\n  width: 790px;\r\n  height: 100%;\r\n}\r\n\r\n.right {\r\n\r\n//background-color: #de1c31; position: relative; width: 280px; min-height: 100%;\r\n}\r\n\r\n\r\n.recommended-users {\r\n  width: 290px;\r\n}\r\n\r\n\r\n.follow-btn {\r\n  width: 70px;\r\n  text-align: center;\r\n  position: absolute;\r\n  box-shadow: none;\r\n  margin-top: -50px;\r\n  margin-left: 170px;\r\n}\r\n\r\n.follow-btn:hover {\r\n  border: 1px #de1c31 solid;\r\n  color: #de1c31;\r\n}\r\n\r\n.rec-list {\r\n  margin-left: -25px;\r\n  margin-bottom: 10px;\r\n  border: none;\r\n  width: 280px;\r\n}\r\n\r\n.rec-para {\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  margin-top: 15px;\r\n}\r\n\r\n.glass-container {\r\n  position: relative;\r\n}\r\n\r\n.glass-layer {\r\n  z-index: 998;\r\n  backdrop-filter: blur(10px); /* 模糊程度，可以根据需要调整 */\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: rgba(0, 0, 0, 0.5);\r\n  text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);\r\n\r\n}\r\n\r\n.footer {\r\n  z-index: 1000;\r\n  background-color: #1c1c1c;\r\n  min-width: 1178px;\r\n  width: 100%;\r\n  margin-top: 20px;\r\n  height: 150px;\r\n  line-height: 50px;\r\n  font-size: 15px;\r\n  color: #eeeeee;\r\n}\r\n\r\n</style>","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=360d9c48&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-360d9c48\"]])\n\nexport default __exports__"],"names":["ellipsis","ref","onMounted","userInfos","getLocalStorageItem","store","userInfo","followers","followings","isLogin","getRecommendedUsers","router","push","requestService","get","then","res","data","code","recommendedUsers","onFollow","followingId","post","headers","following","result","setLocalStorageItem","toUserCenter","userId","path","query","__exports__"],"sourceRoot":""}