"use strict";(self["webpackChunksimida_web"]=self["webpackChunksimida_web"]||[]).push([[343],{6394:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(3396),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{tag:"path",attrs:{d:"M894 345a343.92 343.92 0 00-189-130v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95 0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31 0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{tag:"path",attrs:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]},name:"comment",theme:"outlined"},s=n,i=a(8144);function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){c(e,t,a[t])}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=function(e,t){var a=r({},e,t.attrs);return(0,l.Wm)(i.Z,r({},a,{icon:s}),null)};o.displayName="CommentOutlined",o.inheritAttrs=!1;var u=o},9069:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(3396),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0142.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}}]},name:"like",theme:"outlined"},s=n,i=a(8144);function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){c(e,t,a[t])}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=function(e,t){var a=r({},e,t.attrs);return(0,l.Wm)(i.Z,r({},a,{icon:s}),null)};o.displayName="LikeOutlined",o.inheritAttrs=!1;var u=o},7439:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(3396),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},s=n,i=a(8144);function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){c(e,t,a[t])}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=function(e,t){var a=r({},e,t.attrs);return(0,l.Wm)(i.Z,r({},a,{icon:s}),null)};o.displayName="ShareAltOutlined",o.inheritAttrs=!1;var u=o},7343:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});a(560);var l=a(3396),n=a(4870),s=a(7139),i=a(7625),r=a(7439),c=a(6394),o=a(9069),u=a(1120),d=a(4471);const p=e=>((0,l.dD)("data-v-6e25b9fc"),e=e(),(0,l.Cn)(),e),m=["infinite-scroll-disabled"],f=["onClick"],v={class:"post-createtime"},w={class:"post-content"},g=p((()=>(0,l._)("span",{style:{color:"#de1c31"}},"展开",-1))),y=p((()=>(0,l._)("div",{class:"post-nickname"},"加载动态",-1))),b=p((()=>(0,l._)("div",{class:"post-createtime"},"加载动态",-1))),h={class:"post-content"},k=p((()=>(0,l._)("span",{style:{color:"#de1c31"}},"展开",-1))),_=p((()=>(0,l._)("div",{class:"post-nickname"},"加载动态",-1))),z=p((()=>(0,l._)("div",{class:"post-createtime"},"加载动态",-1))),O={class:"post-content"},I=p((()=>(0,l._)("span",{style:{color:"#de1c31"}},"展开",-1))),W=p((()=>(0,l._)("div",{class:"post-nickname"},"加载动态",-1))),j=p((()=>(0,l._)("div",{class:"post-createtime"},"加载动态",-1))),C={class:"post-content"},S=p((()=>(0,l._)("span",{style:{color:"#de1c31"}},"展开",-1)));var U={__name:"follow",setup(e){(0,l.bv)((()=>{q()}));const t=(0,n.iH)([{comments:[],likedUserIds:[]}]),a=e=>{u.Z.push({path:"/userCenter/otherUserCenter",query:{userId:e}})},p=(0,n.iH)(!0),U=e=>{u.Z.push({path:"/postDetail",query:{feedId:e}})},x=e=>{d.Z.post("/like",{feedId:e.feedId,feedUserId:e.userId},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((t=>{3001===t.data.code?(Z("success",t.data.msg),e.likedUserIds.push(i.h.userInfo.userId)):Z("error",t.data.msg)}))},H=e=>{d.Z.delete("/like",{headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{feedId:e.feedId,feedUserId:e.userId}}).then((t=>{5001===t.data.code?(Z("success",t.data.msg),e.likedUserIds.splice(e.likedUserIds.indexOf(i.h.userInfo.userId),1)):Z("error",t.data.msg)}))},Z=(e,t,a)=>{notification[e]({message:t,description:a,duration:2})},P=(0,n.iH)(!0),D=(0,n.iH)(1),M=(0,n.iH)(10),A=(0,n.iH)(!1),T=(0,n.iH)(!1),q=()=>{A.value=!0,P.value=!0,d.Z.get("/feed/getFollowedFeedByPage/"+D.value+"/"+M.value).then((e=>{2001===e.data.code?1===D.value?setTimeout((()=>{t.value=e.data.data,D.value++,A.value=!1,P.value=!1}),1500):setTimeout((()=>{t.value=t.value.concat(e.data.data),D.value++,A.value=!1,P.value=!1}),1500):(P.value=!1,setTimeout((()=>{T.value=!1}),3e3),T.value=!0,setTimeout((()=>{A.value=!1}),5e3))}))};return(e,u)=>{const d=(0,l.up)("a-avatar"),Z=(0,l.up)("a-card-meta"),D=(0,l.up)("a-typography-paragraph"),M=(0,l.up)("a-image"),N=(0,l.up)("a-button"),B=(0,l.up)("a-card"),L=(0,l.Q2)("infinite-scroll");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{"infinite-scroll-disabled":A.value,"infinite-scroll-immediate":!1},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.value,((e,t)=>((0,l.wg)(),(0,l.j4)(B,{key:t,class:"post",size:"default"},{actions:(0,l.w5)((()=>[(0,l.Wm)(N,null,{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r.Z),{key:"forward"})])),_:1}),(0,l.Wm)(N,{onClick:t=>U(e.feedId)},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(c.Z),{key:"comment"})])),default:(0,l.w5)((()=>[(0,l.Uk)(" "+(0,s.zw)(e.comments.length),1)])),_:2},1032,["onClick"]),e.likedUserIds.includes((0,n.SU)(i.h).userInfo.userId)?((0,l.wg)(),(0,l.j4)(N,{key:0,onClick:t=>H(e)},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(o.Z),{style:{color:"#de1c31"},key:"like"})])),default:(0,l.w5)((()=>[(0,l.Uk)(" "+(0,s.zw)(e.likedUserIds.length),1)])),_:2},1032,["onClick"])):((0,l.wg)(),(0,l.j4)(N,{key:1,onClick:t=>x(e)},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(o.Z),{key:"like"})])),default:(0,l.w5)((()=>[(0,l.Uk)(" "+(0,s.zw)(e.likedUserIds.length),1)])),_:2},1032,["onClick"]))])),default:(0,l.w5)((()=>[(0,l.Wm)(Z,null,{title:(0,l.w5)((()=>[(0,l._)("div",{class:"post-nickname",onClick:t=>a(e.userId),style:{cursor:"pointer"}},(0,s.zw)(e.userNickName),9,f)])),description:(0,l.w5)((()=>[(0,l._)("div",v,(0,s.zw)(e.createTime),1)])),avatar:(0,l.w5)((()=>[(0,l.Wm)(d,{size:60,src:e.userAvatar,onClick:t=>a(e.userId),style:{cursor:"pointer"}},null,8,["src","onClick"])])),_:2},1024),(0,l._)("div",w,[(0,l.Wm)(D,{ellipsis:!!p.value&&{rows:5,expandable:!0},style:{lineHeight:"25px",fontSize:"16px"},content:e.content},{ellipsisSymbol:(0,l.w5)((()=>[g])),_:2},1032,["ellipsis","content"])]),(0,l.Wm)(M,{src:e.imageUrl,lazy:!0},null,8,["src"])])),_:2},1024)))),128))],8,m)),[[L,q]]),P.value?((0,l.wg)(),(0,l.j4)(B,{key:0,loading:P.value,class:"post",size:"default"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,null,{title:(0,l.w5)((()=>[y])),description:(0,l.w5)((()=>[b])),avatar:(0,l.w5)((()=>[(0,l.Wm)(d,{size:60})])),_:1}),(0,l._)("div",h,[(0,l.Wm)(D,{ellipsis:!!p.value&&{rows:5,expandable:!0},style:{lineHeight:"25px",fontSize:"16px"},content:"加载动态"},{ellipsisSymbol:(0,l.w5)((()=>[k])),_:1},8,["ellipsis"])]),(0,l.Wm)(M)])),_:1},8,["loading"])):(0,l.kq)("",!0),P.value?((0,l.wg)(),(0,l.j4)(B,{key:1,loading:P.value,class:"post",size:"default"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,null,{title:(0,l.w5)((()=>[_])),description:(0,l.w5)((()=>[z])),avatar:(0,l.w5)((()=>[(0,l.Wm)(d,{size:60})])),_:1}),(0,l._)("div",O,[(0,l.Wm)(D,{ellipsis:!!p.value&&{rows:5,expandable:!0},style:{lineHeight:"25px",fontSize:"16px"},content:"加载动态"},{ellipsisSymbol:(0,l.w5)((()=>[I])),_:1},8,["ellipsis"])]),(0,l.Wm)(M)])),_:1},8,["loading"])):(0,l.kq)("",!0),P.value?((0,l.wg)(),(0,l.j4)(B,{key:2,loading:P.value,class:"post",size:"default"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,null,{title:(0,l.w5)((()=>[W])),description:(0,l.w5)((()=>[j])),avatar:(0,l.w5)((()=>[(0,l.Wm)(d,{size:60})])),_:1}),(0,l._)("div",C,[(0,l.Wm)(D,{ellipsis:!!p.value&&{rows:5,expandable:!0},style:{lineHeight:"25px",fontSize:"16px"},content:"加载动态"},{ellipsisSymbol:(0,l.w5)((()=>[S])),_:1},8,["ellipsis"])]),(0,l.Wm)(M)])),_:1},8,["loading"])):(0,l.kq)("",!0),(0,l._)("div",{class:(0,s.C_)(T.value?"no-more-ture":"no-more-false")},"没有更多了",2)],64)}}},x=a(89);const H=(0,x.Z)(U,[["__scopeId","data-v-6e25b9fc"]]);var Z=H}}]);
//# sourceMappingURL=343.8f0c0db2.js.map