"use strict";(self["webpackChunksimida_web"]=self["webpackChunksimida_web"]||[]).push([[458],{8713:function(e,s,t){t.d(s,{_:function(){return r}});var a=t(1020);const r=(0,a.Q_)("websocket",{state:()=>({msg:""}),getters:{},actions:{}})},9458:function(e,s,t){t.r(s),t.d(s,{default:function(){return b}});t(560);var a=t(3396),r=t(7139),l=t(4870),i=t(2483),u=t(4471),c=t(8713),n=t(5878);const d={class:"userlist"},o={class:"userlist-left"},v=["onClick"],p={key:0,class:"new-msg"},f=["src"],g={key:1,class:"left-list"},w={class:"userlist-right"};var h={__name:"userList",setup(e){const s=(0,l.iH)({arr:[]}),t=(0,l.iH)(""),h=(0,i.tv)(),_=(0,c._)(),k=(0,l.iH)(!0),b=(0,n.le)("uid"),m=(0,l.iH)({arr:[]});(0,a.bv)((()=>{y()}));const y=()=>{u.Z.get("/friend/list/"+b).then((e=>{2001===e.data.code&&(s.value.arr=e.data.data)}))},C=e=>{t.value=e.e,m.value.arr.splice(m.value.arr.indexOf(e),1),h.push({path:"chatWith",query:{uid:e.e}})};return _.$subscribe(((e,s)=>{let t=JSON.parse(s.msg);if(2===t.type){const e=t.from;m.value.arr.includes(e)||m.value.arr.push(e)}})),(e,l)=>{const i=(0,a.up)("a-typography-paragraph"),u=(0,a.up)("el-scrollbar"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",o,[0!==s.value.arr.length?((0,a.wg)(),(0,a.j4)(u,{key:0},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.value.arr,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(["left-list",{"left-list-bg":t.value===e.userId}]),key:s,onClick:s=>C({e:e.userId}),style:{cursor:"pointer"}},[m.value.arr.includes(e.userId)?((0,a.wg)(),(0,a.iD)("div",p,"新消息")):(0,a.kq)("",!0),(0,a._)("img",{src:e.avatar,class:"left-list-img",alt:"0"},null,8,f),(0,a.Wm)(i,{class:"left-list-title rec-para",style:(0,r.j5)(k.value?{width:"100px"}:{}),content:e.nickName},null,8,["style","content"])],10,v)))),128))])),_:1})):((0,a.wg)(),(0,a.iD)("div",g," 好友列表为空 "))]),(0,a._)("div",w,[(0,a.Wm)(c)])])}}},_=t(89);const k=(0,_.Z)(h,[["__scopeId","data-v-1880b6b4"]]);var b=k}}]);
//# sourceMappingURL=458.f3e3642b.js.map