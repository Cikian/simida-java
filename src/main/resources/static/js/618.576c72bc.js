"use strict";(self["webpackChunksimida_web"]=self["webpackChunksimida_web"]||[]).push([[618],{9974:function(e,a,r){r.r(a),r.d(a,{default:function(){return d}});r(8858),r(1318),r(3228);var t=r(3396),s=r(4870),u=r(7178),o=r(2748),n=r(5878);const c=["src"];var l={__name:"index",setup(e){const a=(0,s.iH)(""),r=((0,s.iH)({headerImg:""}),function(e,a){1001===e.code?(0,u.z8)({type:"success",message:"上传成功"}):(0,u.z8)({type:"warning",message:e.msg})}),l=()=>{(0,u.z8)({type:"error",message:"上传失败"})},i=(0,s.iH)(""),p=function(e){return i.value=(0,n.le)("token"),"image/jpeg"!==e.type&&"image/png"!==e.type?(u.z8.error("Avatar picture must be JPG format!"),!1):!(e.size/1024/1024>10)||(u.z8.error("Avatar picture size can not exceed 10MB!"),!1)},d=(0,s.iH)(),m=()=>{d.value.submit()},f=(e,r)=>{a.value=URL.createObjectURL(e.raw)};return(e,u)=>{const n=(0,t.up)("el-icon"),v=(0,t.up)("el-upload"),g=(0,t.up)("el-button");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(v,{ref_key:"uploadRef",ref:d,class:"avatar-uploader",action:"/upload",data:{operationCode:1},headers:{Authorization:i.value},"show-file-list":!1,"on-success":r,"before-upload":p,"on-error":l,"auto-upload":!1,"on-change":f},{default:(0,t.w5)((()=>[a.value?((0,t.wg)(),(0,t.iD)("img",{key:0,src:a.value,class:"avatar"},null,8,c)):((0,t.wg)(),(0,t.j4)(n,{key:1,class:"avatar-uploader-icon"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,s.SU)(o.Plus))])),_:1}))])),_:1},8,["headers"]),(0,t.Wm)(g,{class:"ml-3",type:"success",onClick:m},{default:(0,t.w5)((()=>[(0,t.Uk)(" upload to server ")])),_:1})],64)}}},i=r(89);const p=(0,i.Z)(l,[["__scopeId","data-v-dec97894"]]);var d=p}}]);
//# sourceMappingURL=618.576c72bc.js.map