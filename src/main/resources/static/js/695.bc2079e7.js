"use strict";(self["webpackChunksimida_web"]=self["webpackChunksimida_web"]||[]).push([[695],{6394:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(3396),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{tag:"path",attrs:{d:"M894 345a343.92 343.92 0 00-189-130v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95 0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31 0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{tag:"path",attrs:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]},name:"comment",theme:"outlined"},r=n,o=a(8144);function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){s(e,t,a[t])}))}return e}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=function(e,t){var a=c({},e,t.attrs);return(0,l.Wm)(o.Z,c({},a,{icon:r}),null)};i.displayName="CommentOutlined",i.inheritAttrs=!1;var u=i},9069:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(3396),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0142.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}}]},name:"like",theme:"outlined"},r=n,o=a(8144);function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){s(e,t,a[t])}))}return e}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=function(e,t){var a=c({},e,t.attrs);return(0,l.Wm)(o.Z,c({},a,{icon:r}),null)};i.displayName="LikeOutlined",i.inheritAttrs=!1;var u=i},7217:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(3396),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 161H699.2c-49.1 0-97.1 14.1-138.4 40.7L512 233l-48.8-31.3A255.2 255.2 0 00324.8 161H96c-17.7 0-32 14.3-32 32v568c0 17.7 14.3 32 32 32h228.8c49.1 0 97.1 14.1 138.4 40.7l44.4 28.6c1.3.8 2.8 1.3 4.3 1.3s3-.4 4.3-1.3l44.4-28.6C602 807.1 650.1 793 699.2 793H928c17.7 0 32-14.3 32-32V193c0-17.7-14.3-32-32-32zM324.8 721H136V233h188.8c35.4 0 69.8 10.1 99.5 29.2l48.8 31.3 6.9 4.5v462c-47.6-25.6-100.8-39-155.2-39zm563.2 0H699.2c-54.4 0-107.6 13.4-155.2 39V298l6.9-4.5 48.8-31.3c29.7-19.1 64.1-29.2 99.5-29.2H888v488zM396.9 361H211.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5zm223.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c0-4.1-3.2-7.5-7.1-7.5H627.1c-3.9 0-7.1 3.4-7.1 7.5zM396.9 501H211.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5zm416 0H627.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5z"}}]},name:"read",theme:"outlined"},r=n,o=a(8144);function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){s(e,t,a[t])}))}return e}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=function(e,t){var a=c({},e,t.attrs);return(0,l.Wm)(o.Z,c({},a,{icon:r}),null)};i.displayName="ReadOutlined",i.inheritAttrs=!1;var u=i},5695:function(e,t,a){a.r(t),a.d(t,{default:function(){return B}});a(560);var l=a(3396),n=a(4870),r=a(7139),o=a(7625),c=a(1127),s=a(7217),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},u=i,d=a(8144);function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){v(e,t,a[t])}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p=function(e,t){var a=f({},e,t.attrs);return(0,l.Wm)(d.Z,f({},a,{icon:u}),null)};p.displayName="RollbackOutlined",p.inheritAttrs=!1;var w=p,g=a(6394),m=a(9069),h=a(4471),b=a(5878),y=a(1120),k=a(4476),O=a(2483);const I=e=>((0,l.dD)("data-v-0faf5d1c"),e=e(),(0,l.Cn)(),e),_={class:"user-display"},z={class:"feed-nav"},j={style:{fontSize:"18px",marginLeft:"170px",borderRadius:"8px",backgroundColor:"#c2c2c2",padding:"5px 20px"}},H={class:"user-background"},U={class:"nickname"},x={class:"msg"},Z=I((()=>(0,l._)("span",null,"粉丝  ",-1))),C=I((()=>(0,l._)("span",null,"关注  ",-1))),W={class:"desc"},S={class:"desc-text"},M={style:{marginTop:"20px",letterSpacing:"1px"}},P={style:{marginTop:"20px"}},D={class:"post-nickname"},N={class:"post-createtime"},T={class:"post-content"},A=I((()=>(0,l._)("span",{style:{color:"#de1c31"}},"展开",-1)));var L={__name:"otherUserCenter",setup(e){(0,n.iH)("");const t=(0,n.iH)([]),a=(0,n.iH)([]),i=(0,n.iH)(0),u=(0,n.iH)(0),d=(0,n.iH)(""),f=()=>{i.value=o.h.followers.length,u.value=o.h.followings.length},v=e=>{y.Z.push({path:"/postDetail",query:{feedId:e}})},p=(0,n.iH)("1");(0,l.bv)((()=>{d.value=y.Z.currentRoute.value.query.userId,I(d.value),f(),V()})),(0,O.ao)((e=>{d.value=e.query.userId,I(d.value),f(),V()}));const I=e=>{h.Z.get("/user/"+e).then((e=>{2001===e.data.code&&(q.value=e.data.data.userInfo,t.value=e.data.data.followers,a.value=e.data.data.followings,i.value=e.data.data.followers.length,u.value=e.data.data.followings.length,o.h.followers.some((e=>e.follower===d.value))&&o.h.followings.some((e=>e.following===d.value))?p.value="2":o.h.followings.some((e=>e.following===d.value))?p.value="3":p.value="1")}))},L=(0,n.iH)(!0),V=((0,n.iH)("#000"),()=>{h.Z.get("/feed/getFeedByUserId/"+d.value).then((e=>{2001===e.data.code&&(B.value=e.data.data)}))}),q=(0,n.iH)({userName:"",userId:"",nickName:"",avatar:""}),B=(0,n.iH)([]),E=((0,n.iH)(!0),e=>{h.Z.post("/like",{feedId:e.feedId,feedUserId:e.userId},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((t=>{3001===t.data.code?(Y("success",t.data.msg),e.likedUserIds.push(o.h.userInfo.userId)):Y("error",t.data.msg)}))}),R=e=>{h.Z.delete("/like",{headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{feedId:e.feedId,feedUserId:e.userId}}).then((t=>{5001===t.data.code?(Y("success",t.data.msg),e.likedUserIds.splice(e.likedUserIds.indexOf(o.h.userInfo.userId),1)):Y("error",t.data.msg)}))},Y=(e,t,a)=>{k.Z[e]({message:t,description:a,duration:2})},$=(e,t)=>{e.target.innerText=t},F=e=>{h.Z.post("/follow",{followingId:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((t=>{3001===t.data.code&&(o.h.followings.push({following:e}),h.Z.get("/user/").then((e=>{2001===e.data.code&&((0,b.D$)("userInfo",e.data.data,5),o.h.userInfo=e.data.data.userInfo,o.h.followers=e.data.data.followers,o.h.followings=e.data.data.followings,o.h.isLogin=!0,I(d.value))})))}))},K=e=>{h.Z.delete("/follow",{headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{followingId:e}}).then((e=>{5001===e.data.code&&h.Z.get("/user/").then((e=>{2001===e.data.code&&((0,b.D$)("userInfo",e.data.data,5),o.h.userInfo=e.data.data.userInfo,o.h.followers=e.data.data.followers,o.h.followings=e.data.data.followings,o.h.isLogin=!0,I(d.value))}))}))},G=()=>{y.Z.go(-1)};return(e,t)=>{const a=(0,l.up)("a-button"),f=(0,l.up)("el-affix"),h=(0,l.up)("el-image"),b=(0,l.up)("a-avatar"),y=(0,l.up)("a-typography-text"),k=(0,l.up)("a-card-meta"),O=(0,l.up)("a-typography-paragraph"),I=(0,l.up)("a-image"),V=(0,l.up)("a-card");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",_,[(0,l.Wm)(f,{offset:80},{default:(0,l.w5)((()=>[(0,l._)("div",z,[(0,l.Wm)(a,{class:"back-btn",onClick:G},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(c.Z))])),default:(0,l.w5)((()=>[(0,l.Uk)("返回 ")])),_:1}),(0,l._)("span",j,(0,r.zw)(q.value.nickName),1)])])),_:1}),(0,l._)("div",H,[(0,l.Wm)(h,{class:"bg-image",src:q.value.bgImageUrl,fit:"cover"},null,8,["src"])]),(0,l.Wm)(b,{style:{marginTop:"-30px",marginLeft:"20px"},src:q.value.avatar,size:100},null,8,["src"]),(0,l._)("div",U,(0,r.zw)(q.value.nickName),1),(0,l._)("div",x,[(0,l._)("div",null,[Z,(0,l.Uk)((0,r.zw)(i.value),1)]),(0,l._)("div",null,[C,(0,l.Uk)((0,r.zw)(u.value),1)])]),"3"===p.value?((0,l.wg)(),(0,l.j4)(a,{key:0,onMouseover:t[0]||(t[0]=e=>$(e,"取消关注")),onMouseout:t[1]||(t[1]=e=>$(e,"已关注")),onClick:t[2]||(t[2]=e=>K(d.value)),class:"follow-btn"},{default:(0,l.w5)((()=>[(0,l.Uk)(" 已关注 ")])),_:1})):(0,l.kq)("",!0),"2"===p.value?((0,l.wg)(),(0,l.j4)(a,{key:1,onMouseover:t[3]||(t[3]=e=>$(e,"取消关注")),onMouseout:t[4]||(t[4]=e=>$(e,"互相关注")),onClick:t[5]||(t[5]=e=>K(d.value)),class:"follow-btn",shape:"round"},{default:(0,l.w5)((()=>[(0,l.Uk)("互相关注 ")])),_:1})):(0,l.kq)("",!0),"1"===p.value?((0,l.wg)(),(0,l.j4)(a,{key:2,onMouseover:t[6]||(t[6]=e=>$(e,"关注")),onMouseout:t[7]||(t[7]=e=>$(e,"关注")),onClick:t[8]||(t[8]=e=>F(d.value)),class:"follow-btn",shape:"round"},{default:(0,l.w5)((()=>[(0,l.Uk)(" 关注 ")])),_:1})):(0,l.kq)("",!0),(0,l._)("div",W,[(0,l.Wm)((0,n.SU)(s.Z),{class:"desc-icon"}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l._)("div",S,(0,r.zw)(q.value.descrption),1)])),_:1})])]),(0,l._)("div",M," 全部动态("+(0,r.zw)(B.value.length)+") ",1),(0,l._)("div",P,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(B.value,((e,t)=>((0,l.wg)(),(0,l.j4)(V,{key:t,class:"post",size:"default"},{actions:(0,l.w5)((()=>[(0,l.Wm)(a,null,{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(w),{key:"forward"})])),_:1}),(0,l.Wm)(a,null,{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(g.Z),{key:"comment",onClick:t=>v(e.feedId)},null,8,["onClick"])])),default:(0,l.w5)((()=>[(0,l.Uk)(" "+(0,r.zw)(e.comments.length),1)])),_:2},1024),e.likedUserIds.includes((0,n.SU)(o.h).userInfo.userId)?((0,l.wg)(),(0,l.j4)(a,{key:0,onClick:t=>R(e)},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(m.Z),{style:{color:"#de1c31"},key:"like"})])),default:(0,l.w5)((()=>[(0,l.Uk)(" "+(0,r.zw)(e.likedUserIds.length),1)])),_:2},1032,["onClick"])):((0,l.wg)(),(0,l.j4)(a,{key:1,onClick:t=>E(e)},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(m.Z),{key:"like"})])),default:(0,l.w5)((()=>[(0,l.Uk)(" "+(0,r.zw)(e.likedUserIds.length),1)])),_:2},1032,["onClick"]))])),default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{title:(0,l.w5)((()=>[(0,l._)("div",D,(0,r.zw)(e.userNickName),1)])),description:(0,l.w5)((()=>[(0,l._)("div",N,(0,r.zw)(e.createTime),1)])),avatar:(0,l.w5)((()=>[(0,l.Wm)(b,{size:60,src:e.userAvatar},null,8,["src"])])),_:2},1024),(0,l._)("div",T,[(0,l.Wm)(O,{ellipsis:!!L.value&&{rows:5,expandable:!0},style:{lineHeight:"25px",fontSize:"16px"},content:e.content},{ellipsisSymbol:(0,l.w5)((()=>[A])),_:2},1032,["ellipsis","content"])]),(0,l.Wm)(I,{src:e.imageUrl},null,8,["src"])])),_:2},1024)))),128))])],64)}}},V=a(89);const q=(0,V.Z)(L,[["__scopeId","data-v-0faf5d1c"]]);var B=q}}]);
//# sourceMappingURL=695.bc2079e7.js.map