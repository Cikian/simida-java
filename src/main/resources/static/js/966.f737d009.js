"use strict";(self["webpackChunksimida_web"]=self["webpackChunksimida_web"]||[]).push([[966],{2966:function(o,e,l){l.r(e),l.d(e,{default:function(){return h}});l(560);var t=l(3396),n=l(7139),a=l(4870),s=l(7625),i=l(4471),r=l(5878),c=l(1120);const u={style:{width:"600px",height:"fit-content"}},w={style:{margin:"5px 0",letterSpacing:"1px"}},d=["onClick"];var f={__name:"followings",setup(o){const e=(0,a.iH)(!1);(0,t.bv)((()=>{v()}));const l=o=>{i.Z.delete("/follow",{headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{followingId:o}}).then((o=>{5001===o.data.code&&i.Z.get("/user/").then((o=>{2001===o.data.code&&((0,r.D$)("userInfo",o.data.data,5),s.h.userInfo=o.data.data.userInfo,s.h.followers=o.data.data.followers,s.h.followings=o.data.data.followings,s.h.isLogin=!0)}))}))},f=(o,e)=>{"取消关注"===o.target.innerText?o.target.innerText=e:o.target.innerText="取消关注"},g=o=>{c.Z.push({path:"/userCenter/otherUserCenter",query:{userId:o}})},p=(0,a.iH)(0),h=(0,a.iH)(0),v=()=>{p.value=s.h.followers.length,h.value=s.h.followings.length};return(o,i)=>{const r=(0,t.up)("a-avatar"),c=(0,t.up)("a-typography-text"),p=(0,t.up)("a-card-meta"),v=(0,t.up)("a-button"),k=(0,t.up)("a-card");return(0,t.wg)(),(0,t.iD)("div",u,[(0,t._)("div",w,"全部关注("+(0,n.zw)(h.value)+")",1),(0,t._)("div",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,a.SU)(s.h).followings,((o,u)=>((0,t.wg)(),(0,t.j4)(k,{loading:e.value,class:"follow-list",key:u},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{title:(0,t.w5)((()=>[(0,t._)("div",{class:"nickname",onClick:e=>g(o.following),style:{cursor:"pointer"}},(0,n.zw)(o.followingName),9,d)])),avatar:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"avatar",shape:"circle",src:o.followingAvatar,size:60,onClick:e=>g(o.following),style:{cursor:"pointer"}},null,8,["src","onClick"])])),description:(0,t.w5)((()=>[(0,t.Wm)(c,{class:"desc",style:{fontSize:"13px",color:" #c2c2c2"},content:o.followingDesc},null,8,["content"])])),_:2},1024),(0,a.SU)(s.h).followers.some((e=>e.follower===o.following))?((0,t.wg)(),(0,t.j4)(v,{key:0,onMouseover:i[0]||(i[0]=o=>f(o)),onMouseout:i[1]||(i[1]=o=>f(o,"互相关注")),onClick:e=>l(o.following),class:"follow-btn",shape:"round"},{default:(0,t.w5)((()=>[(0,t.Uk)("互相关注 ")])),_:2},1032,["onClick"])):((0,t.wg)(),(0,t.j4)(v,{key:1,onMouseover:i[2]||(i[2]=o=>f(o)),onMouseout:i[3]||(i[3]=o=>f(o,"已关注")),onClick:e=>l(o.following),class:"follow-btn",shape:"round"},{default:(0,t.w5)((()=>[(0,t.Uk)("已关注 ")])),_:2},1032,["onClick"]))])),_:2},1032,["loading"])))),128))])])}}},g=l(89);const p=(0,g.Z)(f,[["__scopeId","data-v-761f321b"]]);var h=p}}]);
//# sourceMappingURL=966.f737d009.js.map